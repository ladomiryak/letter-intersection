{"version":3,"sources":["../../.config/yarn/global/node_modules/process/browser.js","node_modules/paper/dist/paper-core.js","app1.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","paper","self","undefined","require","window","document","Base","hidden","slice","create","Object","describe","getOwnPropertyDescriptor","define","defineProperty","forEach","iter","bind","l","forIn","hasOwnProperty","set","assign","dst","src","key","each","obj","desc","value","inject","dest","enumerable","beans","preserve","beansNames","field","val","get","substring","isFunc","res","prev","base","bean","match","toLowerCase","isPlainObject","writable","configurable","test","part","statics","extend","ctor","proto","initialize","clone","constructor","pick","a","b","list","begin","end","toString","_id","_class","_name","type","Formatter","instance","number","join","getClassName","importJSON","json","exportJSON","options","toJSON","serialize","props","exclude","filter","_prioritize","equals","obj1","obj2","isArray","keys","read","start","amount","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","entry","readNamed","getNamed","hasValue","source","getSource","__unfiltered","readSupported","that","__source","arg","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","add","item","id","ref","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","JSON","stringify","target","parse","useTarget","Layer","insert","items","itemsLength","startLength","splice","index","remove","append","_index","removed","capitalize","str","replace","toUpperCase","camelize","chr","hyphenate","Emitter","func","types","_eventTypes","handlers","_callbacks","indexOf","install","uninstall","handler","event","setTarget","currentTarget","stop","responds","attach","detach","fire","_installEvents","events","_events","isString","PaperScope","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","exec","platform","browser","n","v1","v2","rv","chrome","v","versionNumber","parseFloat","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","code","scope","setup","element","Project","createCanvas","width","height","getCanvas","activate","clear","handleAttribute","el","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds","rect","left","top","right","bottom","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","min","Math","max","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","sort","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","j","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","curPri1","collisions","multiplier","pow","round","pair","val1","val2","separator","point","x","y","size","rectangle","Numerical","abscissas","weights","abs","sqrt","log2","log","LOG2E","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","c","split","D","E","ad","bd","cd","p","dp","q","dq","getNormalizationFactor","norm","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","isMachineZero","integrate","f","w","A","B","m","sum","Ax","findRoot","df","fx","dx","nx","solveQuadratic","roots","x1","x2","Infinity","Q","R","count","boundless","minB","maxB","isFinite","solveCubic","d","b1","c2","qd","evaluate","x0","tmp","t","r","s","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","hasY","_set","setAngle","angle","getLength","setLength","_angle","cos","sin","scale","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","atan2","div","NaN","dot","acos","getQuadrant","getDirectedAngle","cross","getDistance","squared","normalize","current","rotate","center","subtract","transform","matrix","_transformPoint","multiply","divide","modulo","negate","isInside","Rectangle","contains","isClose","isCollinear","isColinear","isOrthogonal","isNaN","isInQuadrant","point1","point2","random","y1","y2","op","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","from","to","frm","next","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","isEmpty","_containsRectangle","_containsPoint","intersects","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","line","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","uMin","uMax","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","View","_selectionItems","_selectionCount","_updateVersion","flags","view","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","children","getCurrentStyle","setCurrentStyle","style","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","other","draw","pixelRatio","save","param","offset","viewMatrix","matrices","updateMatrix","restore","strokeWidth","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","data","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","parent","fields","fontSize","Group","_defaults","symbol","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","flag","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","position","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","topLeft","getTopLeft","floor","bottomRight","getBottomRight","ceil","raster","Raster","canvas","setCanvas","_contains","_asPathItem","Path","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","all","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","_hitTestSelf","fill","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","path","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","fillColor","getFillColor","strokeColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","updateVersion","globalMatrix","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","mainCtx","itemOffset","prevOffset","pop","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","getFillRule","_isUpdated","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","pos","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","hash","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getCornerCenter","halfSize","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Circle","Ellipse","ellipse","_readEllipse","crossOrigin","_smoothing","image","object","getElementById","naturalHeight","setImage","setSource","_loaded","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","DomEvent","load","error","complete","naturalWidth","_context","_change","setContext","context","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","smoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","sampleSize","_sampleContext","clearRect","pixels","getImageData","channels","total","alpha","Color","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","values","segments","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","_curves","curve","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","p0","p1","p2","d1_a","d1_2a","d2_a","d2_2a","N","k","isLast","reversed","removeSegment","segment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","location","divideAtTime","getTimeAt","_setHandles","tMin","tMax","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","geomEpsilon","getNearestTime","minDist","minT","refine","dist","step","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getOffset","getParameterOf","getNearestLocation","getNearestPoint","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","a3","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","fatLineEpsilon","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","getConvexHull","tMinClip","tMaxClip","clipConvexHull","tMinNew","tMaxNew","uDiff","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","info","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","getSquaredLineLength","timeEpsilon","straightBoth","l1","l2","pairs","den","times","num","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_setPath","_version","_curve","_segment","_setSegment","getSegment","getTime","_offset","_curveOffset","trySegment","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a4","hasOverlap","merge","search","found","path1","path2","expanded","compound","pathData","first","isClockwise","setClockwise","clockwise","setPathData","relative","previous","control","getCoord","command","lower","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","boundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","last","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","flattener","PathFlattener","PathFitter","fit","_default","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos1","pos2","end1","end2","start2","numSegments","cap","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawHandles","miniSize","miniHalf","pX","pY","drawHandle","hX","hY","drawSegments","drawSegment","dashLength","drawPart","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","out","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","method","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","getPaths","preparePath","resolve","resolveCrossings","reorient","createResult","result","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","map","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","results","clearCurves","clearLookup","renormalizeLocs","prevCurve","prevTime","origTime","newCurve","getWinding","dontFlip","curvesList","ia","pv","pa","po","windingEpsilon","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","vPrev","vClose","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","otherPath","pathWinding","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","valid","finished","branches","branch","visited","shift","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","b0","b3","detC0C1","alpha1","alpha2","detC0X","detXC1","c0","segLength","eps","degree","maxDist","P","TextItem","content","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","leading","getLeading","font","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","gray","rgb","hsb","hsl","gradient","componentParsers","namedColors","transparent","colorCtx","fromCSS","string","parseInt","trim","isHSL","component","unit","turn","grad","hsbIndices","converters","g","achromatic","t3s","t3","properties","parser","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","_stops","origin","destination","highlight","inverse","canvasGradient","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","prefix","getStyles","doc","nodeType","ownerDocument","defaultView","getComputedStyle","viewport","body","html","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","passive","addEventListener","removeEventListener","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","nativeRequest","requested","callbacks","timer","handleCallbacks","functions","callback","setInterval","getCanvasSize","setAttribute","_viewEvents","none","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","appendChild","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","node","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","update","now","Date","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","temp","createElement","removeChild","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","dragging","mouseDown","updateFocus","handleMouseMove","_handleMouseEvent","mousedown","mousemove","mouseup","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","scroll","called","prevented","fallbacks","doubleclick","wasInView","overView","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","emitMouseEvent","prevPoint","stopItem","stopped","mouseEvent","MouseEvent","fallback","emitMouseEvents","hitItem","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","mouse","substr","drag","down","up","cancelable","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","keyLookup","charLookup","keyMap","charMap","metaFixMap","downKey","alt","meta","capsLock","space","option","mac","getKey","keyIdentifier","String","fromCharCode","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","Tool","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","distance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","isFunction","_then","_startTime","state","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","then","progress","getValue","__add","__subtract","__multiply","_setProperty","onUpdate","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","PaperScript","calculateBinary","Http","request","xhr","XMLHttpRequest","open","url","async","mimeType","overrideMimeType","onload","status","responseText","onerror","message","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","average","negation","mode","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","href","tag","attributes","createElementNS","namespace","getAttributeNS","setAttributeNS","SvgStyles","true","false","property","attribute","toSVG","fromSVG","exportFilter","getTransform","coordinates","attrs","trans","exportGroup","childNode","exportSVG","exportRaster","embedImages","exportPath","matchShapes","exportShape","exportCompoundPath","exportSymbolItem","definitionItem","viewBox","overflow","exportGradient","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportText","textContent","exporters","applyStyle","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","importGroup","nodes","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importPath","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","text","switch","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","percent","styles","group","tagName","isElement","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","Symbol","PlacedSymbol","amd","friction","timeStep","mass","invMass","springs","Spring","strength","restLength","mamb","normDistStrength","fixed","spring","onResize","onMouseMove","updateWave","force","onKeyDown"],"mappings":";AAAA;AACA,AEDA,IFCIA,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,EAEA;AACA;AACA,ACLA;ADMA;AEJAyD,mBAAM2K,OAAN,CAAcvK,MAAd;AFMA,IAAI5D,gBAAJ;AACA,AELA4D,IFKI3D,EELE,CAACosE,MAAP,GAAgB,MFKhB,MEL4B;AAC1B,MAAMz0C,MAAM,GAAG/zB,QAAQ,CAAC8hC,cAAT,CAAwB,UAAxB,CAAf;AFMF,SAASzlC,gBAAT,GAA4B;AACxB,AENFsD,QFMQ,IAAIrD,KAAJ,CAAU,GENZ4R,KAAN,CAAY6lB,MAAZ,kBFMQ,CAAN;AACH;AELC,MAAIiS,MAAM,GAAG;AFMf,AELI0sC,IAAAA,KFKKn2E,GELG,EAAE,GADC,WFMf,GAAgC;AAC5B,AELAo2E,IAAAA,IFKM,IAAIr2E,AELF,EAAE,GFKJ,CAAU,AEPL,mCFOL,CAAN;AACH,AELGiJ,IAAAA,MAAM,EAAE,EAHG;AAIXqtE,IAAAA,IAAI,EAAE,CAJK;AFSd,AEJGx7D,IAAAA,KAAK,EAAE,EFIE;AACT,AEVW,GAAb,GFUM;AACA,AEJN4uB,EAAAA,MFIU,AEJJ,CAAC6sC,MFIUr2E,CEJjB,GAAiB,IAAIwpC,EFIX,IEJiB,CFIK,AEJJ4sC,IAA5B,MFIM,EAAsC;AAClCz2E,AEHV,MFGUA,AEHNk6B,IAAJ,EAAUy8C,OAAV,GFG0B,GAAGt2E,UAAnB;AACH,AEHP,KFCM,CEDFuX,IAAI,CFGK,EEHFuT,IAAI,CAACvT,IAAL,GAAY,CAAC,GAAD,EAAM,CAAN,CAAvB;AFIU5X,MAAAA,gBAAgB,GAAGE,gBAAnB;AACH,AEHP,MAAI02E,MAAM,GAAG,SAATA,MAAS,CAAUxvE,CAAV,EAAaC,CAAb,EAAgBwvE,QAAhB,EAA0BC,UAA1B,EAAsC;AFIhD,AEHD,GFHA,CAME,KEHG1vE,CAAL,CFGS9G,CAAP,CEHO8G,CFGG,AEHZ;AFIIpH,AEHJ,IFGIA,KEHCqH,CAAL,GAASA,CAAT,MFGoB,GAAGnH,gBAAnB;AACH,AEHD,SAAK42E,UAAL,GAAkBA,UAAU,IAAI,EAAhC;AACA,SAAKD,QAAL,GAAgBA,QAAQ,GAAGA,QAAH,GAAc,IAAtC;AFGA,AEFA,MFEI,GEFCE,IAAL,GAAYltC,MAAM,CAAC6sC,OAAP,GAAiB7sC,MAAM,CAAC6sC,OAApC;AFGI,AEFL,GAND,KFQU,OAAOn2E,YAAP,KAAwB,UAA5B,EAAwC;AACpCN,MAAAA,kBAAkB,GAAGM,YAArB;AACH,AEFPq2E,EAAAA,GFAM,GEAA,CAAC50E,EFEM,OEFb,CAAiB69D,MAAjB,GAA0B,YAAY;AFG5B5/D,AEFR,MFEQA,EEFJyhC,KAAK,GAAG,KAAKr6B,CAAL,EFEc,CEFL,EFEQjH,GEFHgH,CAA1B,eFEQ;AACH,AEFL,QAAI0qC,IAAI,GAAGpQ,KAAK,CAACxgC,MAAjB;AFGC,AEFD,ADCJ,GDLI,CAME,ACDFsC,ICDIwzE,CDCC,EDCI12E,CAAP,ACDM,EDCI,QCDKmD,ECDG,EDCZ,CCDe,CAACquC,ADCDpuC,ICDK,GAAG,EDCvB,EAA0B,CCDEozE,UAAb,KACpBhlC,IAAI,GAAG,KAAKilC,IADQ,IACA,KAAKF,QAD5B;AFGI52E,AEDJyhC,ADCJj+B,EAAAA,EDAQxD,AEDJyhC,EDCA,GCDK,ADCFj+B,CCDGkU,CAAN,EDCO,ECDIq/D,EDCArzE,KDAW,ECAJ,CDAOvD,ACAN,MCDQ,GAAGypC,MAAM,CAAC6sC,ADCnB,CAAtB,EDAQ,IEDO,GAAoC,GAA/C;AFEC,AEDD,ADCJ,MAAI9yE,ECDI,CAAC,GDCC,ECDIwD,CAAL,ADCI3D,CCDGwzE,GDCC,CAACrzE,CCDd,EACE,GDAN,ECAWwD,CAAL,CAAOuQ,CAAP,IAAY+pB,KAAK,CAAC/pB,CAAlB;AFCL,AEAG,ADDJ,CDlBC,GAAD,ECmBC9T,ECAO,CAAC,KAAKwD,ADAL,CCAA,CAAO4vE,CDAJxzE,ICAR,ADAY,CAACI,CCCX,KAAKwD,CAAL,CAAOsQ,ADFb,CCEM,IAAY+pB,KAAK,CAAC/pB,CAAlB;AACH,ADAH,GCVE,GDUE7T,IAAI,GAAG,IAAI,YAAW;ADD1B,ACEC,QAAIC,CDFIvD,KCEE,GAAG,EDFd,CAAoBC,GAApB,EAAyB,+BCExB;ADDG,AEGF,ADFD,MDDOT,ECEN+B,GCCSmmD,EDDJ,GAAG,EADT,GCEC,CFHsB,AEGF2uB,KFHOx2E,GEG3B,EAA8B,KFH5B,EAAqC;AACjC,AEGJ,ADHH,QCGO65B,ADDNl2B,ICCU,EDDL,CCCQ,EDDLjC,ECCSi2B,GDDJ,CCCA,ADDCh0B,CCCQ,IDHvB;ADCO,AEGF04B,ADJL,MCIKA,EDDJz4B,GDFa5D,GCEP,CCCO,EAAE,ADDN6D,IDFc,CAACzD,CCET,CAACwD,CDFO,EAAM,CAAN,CAAjB,CCDP;ADEI,AECmB,ADHvB,GDFwB,CAKrB,CEAW,CAAX,EDCFE,QAAQ,GAAGD,MAAM,CAACE,wBAJnB;ACMGuyE,ADNH,ICMGA,IDDFtyE,GCCS,GAAG,ADDN,ECCJ,CDDOH,MAAM,CAACI,cALjB;AAAA,QAOCC,OAAO,GAAGxC,KAAK,CAACwC,OAAN,IAAiB,UAASC,IAAT,EAAeC,IAAf,EAAqB;ADH9C,AEGA,ADCD,MDJK,CAACzE,EEGA,EDCD,ECDK4B,CAAC,CDCFA,CAAC,CCDI,CAAb,CDCY,CCDIA,ADCZ,CCDa,CDCF8C,CDJM,ACIL,ECDKmlC,CDCF,EDJO3pC,GEGC,ADCHgB,CCDIkI,KDC7B,CCDC,CDCgCxH,CCDIA,ADCH,CCDI,EAArC,ADCoC8C,CDJ/B,ACIN,CCD0C,CDCF9C,CAAC,CDJM,CAAC5B,ACIhD,EAA6C,cDJxC,KAAgEK,UAApE,EAAgF;AAC5EL,AEGF,ADCFwE,IDJIxE,ICIJwE,ECDMsoC,EDCF,CAACpsC,ICDQ,ADCb,CAAU+D,EDJU,AEGJy1B,EDChB,CDJuB75B,CEGH,ADCJ,CCDKkL,GAAL,CAAS,ADCJ3J,CAAL,CAAhB,EDJI,AEGyB0a,ADCJ1a,CAAzB,EAA4B,ECDH,CAAUA,CAAC,ADCpC,GCDuCioC,MAAM,CAACzgC,MAArB,EAA6B,GAA7B,IAAoCwO,IAA7C,CAAd;AFFE,AEGF,ADCF,UCDMH,CFHKpX,IEGA,GAAGysC,GFHO,CAACrsC,GAAD,AEGA,CAACgX,CFHK,CAAN,CAAjB,EEGF;AFFD,AEGC,ADCH,KAXF,KCUS7V,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAIioC,MAAM,CAACzgC,MAA1B,EACEqO,KAAK,CAACE,CAAN,IAAWC,IAAI,CAACxF,MAAhB;AACFqF,ADZL,MCYKA,EDCJ9S,GCDS,CAACylB,CDCL,CCDD,EDCI,CCDO3S,KAAK,CAACC,CAAjB,CDCJ/S,KAAQ,CAASH,IAAT,EAAeC,IAAf,EAAqB;ADL3B,AEKEgT,ADCH,MDNK,AEKFA,KAAK,ADCH,CCDI4S,EAAN,CDCMzoB,CAAT,CCDc6V,GDCA,ECDK,CAACE,CAAjB,ADCH,CCP0C,CAOvC,ADAiB;ADLf,ACMJ,YAAI,KAAK/S,cAAL,CAAoBhD,CAApB,CAAJ,EACC4C,IAAI,CAAC9D,IAAL,CAAU+D,IAAV,EAAgB,KAAK7C,CAAL,CAAhB,EAAyBA,CAAzB,EAA4B,IAA5B;ADNG,AEKF6V,ADEF,MCFEA,KFLSzX,AEKJ,CAACi3E,KAAN,GAAcr1E,CAAC,GAAG,CAAJ,EFLW,CAACnB,CEKHmB,CAAC,CFLC,EAAM,AEKJioC,CFLF,CAAvB,IEK+B,CAACzgC,MAAP,GAAgB,CAA3C;AFJD,ACOF,GDVC,CAGE,CCXL,MDWW9I,CAAN,EAAQ;AACN,AEIF,ADhBL,QDYW,ACQVuE,ECJQjD,CAAC,ADIN,GCJS,ADINsC,CCJF,EAAW,GDIH,CAACY,MAAP,IAAiB,UAASC,GAAT,EAAc;ADP3B,AEIJ,ADIL,WAAK,CCJImyE,GDIAt1E,CAAC,ECJK,CDIF,CAAR,CCJa,CDIF8C,CAAC,ECJKkyE,CDIFj1E,KCJF,CAAWmrC,GDIA,CAAC5rC,GCJM,CAACw8C,EDIrC,EAAsC97C,CAAC,GCJV,ADIa8C,CCJI+S,ADI9C,EAA6C7V,CAAC,ECJ5B,ADIlB,ECJqD6V,ADIH,KCJhC,EAA0Co/D,QAA1C,CAAb;AFHI,AEIJF,ADIJ,QCJIA,IDIA3xE,CDRWhF,EEIJ,ADIJ,CCJK6B,EDIFF,ECJN,CAAau1E,MAAb,ADIe,CAACt1E,CDRW,ACQZ,CDRalB,ACQhC,IDRe,CAAsB,IAAtB,EAA4BD,GAA5B,EAAiC,CAAjC,CAAP;AACH,AEIF,KFPC,CAGE,OAAMH,CAAN,EAAQ;AACN,AEIP,ADGD,aAAK,IAAI2E,GAAT,IAAgBD,GAAhB,EAAqB;ADNb,ACOP,aDPchF,CCOVgF,GAAG,CAACJ,WDPsB,CAAClE,ECO3B,CAAmBuE,CDPT,CAAsB,CCOhC,CAAJ,EDPc,ACQbF,EDRyCtE,CCQtC,CAACwE,CDRS,EAAiC,ACQ3C,CDRU,ACQb,CDRM,ECQKD,GAAG,CAACC,GAAD,CAAd;ADPG,AEGLi1B,ADKC,ICLDA,IAAI,CAACnH,QAAL,CAAcrb,CAAd,IAAmBE,IAAI,CAACzF,KAAL,GAAa,CAAhC;AFFC,AEGD,ADKA,WCLO+nB,IAAP;AFAH,AECE;ADKA,aAAOn1B,GAAP;ADLH,AEEEomB,ADIC,ECJDA,GDzBD,CCyBK,CAACgsD,EFFEx2E,MEEP,GAAgB,MFFlB,CAAyBC,KEEK,CFF9B,EAAiC;AAC7B,AEEA,AD1BH,MDwBOX,EEEAi6B,ADKNh1B,ICLE,CDKE,CCJAg1B,EDIG,ECJC,CAACjtB,KFHe,CEGpB,ADIJ/H,IDP6B3E,ACOtB,CAAS4E,GAAT,EAAcX,IAAd,EDPL,ACOyBC,EDPgB,ECOpC,EAA0B;ADN3B,AEGJmT,ADID,ICJCA,IAAI,EDIDzS,CCJIgmB,EDIR,ECJY,ADIH,CCJI3X,MAAL,CAAYoE,IAAZ,GAAmB,CAAC,CAAD,EAAI,CAAJ,CAA1B;AFFI,AEGJsiB,ADIA,ICJAA,IAAI,GFHO35B,AEGJ2nD,CDIH9iD,IAAI,GAAGjB,ECJM,CAAC,CFHK,CAACvD,CEGP,CAAjB,CDImB,CAACuE,EDPG,CAAnB,ACOe,EAAM,QAAN,CAAnB;ADNC,AEGF,ADIC,GDX6B,AEE/B,CFGE,KCMCC,IAAI,IAAI,OAAOA,IAAI,CAACC,KAAZ,KAAsB,QAA9B,GAAyCd,OAAzC,GAAmDI,KAApD,EACEjE,IADF,CACOyE,GADP,EACYX,IADZ,EACkBC,IAAI,GAAGA,IAAI,IAAIU,GADjC;AAEA;ACJFgmB,EAAAA,IAAI,CAACisD,WAAL,GAAmB,UAAU9oE,KAAV,EAAiB;AFHlC,AEIA,ADID,MDRK,CAACrO,CEID+uC,KDIEvqC,GCJM,CDIb,ECJgBy1B,IAAI,CAACyZ,CFJG,KAAKvzC,YEIb,CAAwBkO,KAAK,CFJvC,AEIwCmJ,IFJM,CAACxX,AEIr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AAC9BA,YAAAA,GAAG,GAAG;ADZX,AECEklB,ADWW9lB,ECXX8lB,EFDEtqB,EECE,CAACwvB,EFDE,GAAG,EAAZ,AECE,ADWWhrB,GCXI,EDWC,EAAEY,GAAT,GCXgBqI,KAAV,EAAiB;AFAlC,AECI+oE,ADUqB7wE,IDXrB1F,AECAu2E,QFDQ,EECE,ADUW7wE,CDXV,AECA0zB,IAAD,CFDd,AECI,EDU6B,EAAE;ADVnC,AECG,ADSQ,GCXT,CFCEn5B,SCUC,GDVL;AACA,ACUK,IDVDC,UAAU,GAAG,CAAC,CAAlB;AEEE,WAASq2E,UAAT,CAAoBn9C,IAApB,EAA0B;AFA5B,AECI,ADQA,QCRIo9C,CFDCr2E,IECI,CDQL,CAACkD,CCRO,IAAI0lC,GDQH,CDTjB,ACSkBtkC,ECRQ,CFDC,AECAgxE,CDQV,EAAOrzE,IAAP,CCRG,ADQX,GCR6B2mC,CDS7B,KCTmC,CAAC2sC,QAAzB,GAAoC3sC,MAAM,CAAC2sC,QAA3D;AFAA,ACSO/vE,MDTH,CAAC3F,KCSE2F,GDTH,IAAa,CAAC1F,ICSC,EAAE,MDTrB,EAAgC;AAC5B,AEAJ,ADQK,SCRA,EDOD,ECPKa,ADQoB6E,CCRnB,GAAG,CAAR,EAAW/B,CAAC,GAAGw1B,CDOpB,EAC2C,CCRnB,CAAC4P,QAAL,CAAc5oC,MAAlC,EAA0CU,CAAC,GAAG8C,CAA9C,EAAiD9C,CAAC,EAAlD,EAAsD;AFCrD,AEAC,ADQDqE,UCRKwR,EDQLxR,GCRU,ADQP,CAACQ,ECRSyzB,IAAI,CAAC4P,KDQlB,GCRa,ADQM,CCRQloC,CAAd,EAAiB6V,ADQ9B,KCRC;AACA,ADQDxR,UCRK8jB,EAAE,ADQP9jB,GCRU,ADQP,CCRQwR,ADQPjS,KCRY,CAACmS,CAAN,GAAUF,ADQrB,GAAiBjS,ECRS,CAAC6kB,EAAjB,IAAuBitD,CDQN,ICR1B,ADQ8B,IAAd,GAAqB9xE,UAArB,GAAkC,CAACY,IAApD;ADRDtF,AECE2W,ADQD,EDTD3W,IECE2W,IFDM,CECD,CAAC4S,CFDG,CECT,GAAW5S,CFDb,IECkB,CAACE,CAAjB;AACAF,MAAAA,KAAK,CAACE,CAAN,GAAUp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","file":"app1.js","sourceRoot":"..","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n * Paper.js v0.12.7 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Sat May 23 23:05:09 2020 +0200\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jrg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([{ insert: true }]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.7\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tcenter = this.getPosition(true);\n\t\t\tmatrix.translate(center);\n\t\t\tif (rotation)\n\t\t\t\tmatrix.rotate(rotation);\n\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\tif (rotation)\n\t\t\t\tmatrix.rotate(-rotation);\n\t\t\tmatrix.translate(center.negate());\n\t\t\tthis.transform(matrix);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.initialize.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(resolution, insert) {\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tsize = new Size(bottomRight.subtract(topLeft)),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\tif (!size.isZero()) {\n\t\t\tvar canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n\t\t\t\tctx = canvas.getContext('2d'),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t\traster.setCanvas(canvas);\n\t\t}\n\t\traster.transform(new Matrix().translate(topLeft.add(size.divide(2)))\n\t\t\t\t.scale(1 / scale));\n\t\tif (insert === undefined || insert)\n\t\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: true,\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element)\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = smoothing;\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx, 'imageSmoothingEnabled', this._smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] - padding,\n\t\t\tmaxPad = max[coord] + padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, padding);\n\t\t\t\tadd(v3, padding);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\tfrom = from % length;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, { insert: true });\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.initialize.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: {\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t}\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress > 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg,\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","import paper from \"paper/dist/paper-core\";\n\npaper.install(window);\n\nwindow.onload = function () {\n  const canvas = document.getElementById(\"myCanvas\");\n  paper.setup(canvas);\n\n  var values = {\n    friction: 0.8,\n    timeStep: 0.01,\n    amount: 15,\n    mass: 2,\n    count: 0\n  };\n  values.invMass = 1 / values.mass;\n\n  var path, springs;\n  var size = view.size * [1.2, 1];\n\n  var Spring = function (a, b, strength, restLength) {\n    this.a = a;\n    this.b = b;\n    this.restLength = restLength || 80;\n    this.strength = strength ? strength : 0.55;\n    this.mamb = values.invMass * values.invMass;\n  };\n\n  Spring.prototype.update = function () {\n    var delta = this.b - this.a;\n    var dist = delta.length;\n    var normDistStrength = (dist - this.restLength) /\n      (dist * this.mamb) * this.strength;\n    delta.y *= normDistStrength * values.invMass * 0.2;\n    if (!this.a.fixed)\n      this.a.y += delta.y;\n    if (!this.b.fixed)\n      this.b.y -= delta.y;\n  };\n\n\n  function createPath(strength) {\n    var path = new Path({\n      fillColor: 'black'\n    });\n    springs = [];\n    for (var i = 0; i <= values.amount; i++) {\n      var segment = path.add(new Point(i / values.amount, 0.5) * size);\n      var point = segment.point;\n      if (i == 0 || i == values.amount)\n        point.y += size.height;\n      point.px = point.x;\n      point.py = point.y;\n      // The first two and last two points are fixed:\n      point.fixed = i < 2 || i > values.amount - 2;\n      if (i > 0) {\n        var spring = new Spring(segment.previous.point, point, strength);\n        springs.push(spring);\n      }\n    }\n    path.position.x -= size.width / 4;\n    return path;\n  }\n\n  view.onResize = function () {\n    if (path)\n      path.remove();\n    size = view.bounds.size * [2, 1];\n    path = createPath(0.1);\n  }\n\n  view.onMouseMove = function (event) {\n    var location = path.getNearestLocation(event.point);\n    var segment = location.segment;\n    var point = segment.point;\n\n    if (!point.fixed && location.distance < size.height / 4) {\n      var y = event.point.y;\n      point.y += (y - point.y) / 6;\n      if (segment.previous && !segment.previous.fixed) {\n        var previous = segment.previous.point;\n        previous.y += (y - previous.y) / 24;\n      }\n      if (segment.next && !segment.next.fixed) {\n        var next = segment.next.point;\n        next.y += (y - next.y) / 24;\n      }\n    }\n  }\n\n  view.onFrame = function (event) {\n    updateWave(path);\n  }\n\n  function updateWave(path) {\n    var force = 1 - values.friction * values.timeStep * values.timeStep;\n    for (var i = 0, l = path.segments.length; i < l; i++) {\n      var point = path.segments[i].point;\n      var dy = (point.y - point.py) * force;\n      point.py = point.y;\n      point.y = Math.max(point.y + dy, 0);\n    }\n\n    for (var j = 0, l = springs.length; j < l; j++) {\n      springs[j].update();\n    }\n    path.smooth({ type: 'continuous' });\n  }\n\n  view.onKeyDown = function (event) {\n    if (event.key == 'space') {\n      path.fullySelected = !path.fullySelected;\n      path.fillColor = path.fullySelected ? null : 'black';\n    }\n  }\n\n  view.draw();\n};\n"]}